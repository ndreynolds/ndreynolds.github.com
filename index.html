<div class="light">
  <div class="container">
    <div class="row section">
      <hr>
      <h4 class="section-title">Posts</h4>
      <hr>
      $partial("templates/post-list.html")$
      <a href="/archive.html">View All</a>
    </div>

    <div class="row section">
      <hr>
      <h4 class="section-title text-center">Open Source Projects</h4>
      <hr>
      <div class="row">
        <div class="one-half column">
          <img src="/images/ratatouille.png" width="100%" alt="ratatouille">
        </div>
        <div class="one-half column">
          <h5>Ratatouille</h5>
          <p>
            A TUI (terminal UI) kit for Elixir
          </p>
          <a class="button" href="https://github.com/ndreynolds/ratatouille">
            <i class="fa fa-lg fa-github"></i>
            Source Code
          </a>
        </div>
      </div>
      <div class="row">
        <div class="one-half column">
          <img src="/images/toby.png" width="100%" alt="toby">
        </div>
        <div class="one-half column">
          <h5>toby</h5>
          <p>
            A text-based Erlang observer
          </p>
          <a class="button" href="https://github.com/ndreynolds/toby">
            <i class="fa fa-lg fa-github"></i>
            Source Code
          </a>
        </div>
      </div>
      <div class="row">
        <div class="one-half column">
          <img src="/images/flathead.png" width="100%" alt="Flathead">
        </div>
        <div class="one-half column">
          <h5>Flathead</h5>
          <p>
            Flathead is a tiny, portable JavaScript (ECMA-262) interpreter
            written in C.
          </p>
          <a class="button" href="https://github.com/ndreynolds/flathead">
            <i class="fa fa-lg fa-github"></i>
            Source Code
          </a>
        </div>
      </div>
      <div class="row">
        <div class="one-half column">
          <img src="/images/arcs-viewer.png" width="100%" alt="Flathead">
        </div>
        <div class="one-half column">
          <h5>ARCS</h5>
          <p>
            ARCS is an open-source web platform for humanites-based research.
            Create, relate, organize and search digitized primary evidence.
          </p>
          <a class="button" href="http://arcs.cal.msu.edu/about">
            <i class="fa fa-lg fa-link"></i>
            Site
          </a>
          <a class="button" href="https://github.com/ndreynolds/arcs">
            <i class="fa fa-lg fa-github"></i>
            Source Code
          </a>
        </div>
      </div>
    </div>
  </div>
</div>

<script>
  (function() {
    var canvas = document.getElementById('life')
    canvas.setAttribute('width', document.body.clientWidth);

    var ctx = canvas.getContext('2d');
    ctx.fillStyle = "#4090c7";

    var width = 250,
        height = 100;
    var grid = Life.initGrid(width, height);

    var interval;

    function updateCanvas() {
      for (var y = 0; y < height; y++) {
        for (var x = 0; x < width; x++) {
          window.Life.drawCell(ctx, grid, x, y, 8);
        }
      }
    }

    function startInterval(intervalMs) {
      interval = setInterval(function() {
        grid = Life.nextGeneration(grid);
        updateCanvas();
      }, intervalMs);
    }

    function stopInterval(afterMs) {
      setTimeout(function() {
        clearInterval(interval);
        canvas.remove();
      }, afterMs);
    }

    updateCanvas();
    startInterval(150);
    stopInterval(30000);
  }());
</script>
